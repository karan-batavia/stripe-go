<!-- Integration User Setup Step -->
<template>
    <div class="slds-p-horizontal_large slds-p-vertical_xx-large slds-container slds-container_center slds-container_medium">
        <template lwc:if={isConnected}>
            <div class="slds-text-align_center">
                <div class="stripe-status slds-theme_success slds-m-top_large slds-m-bottom_small">
                    <div class="slds-grid slds-grid_vertical-align-center slds-grid_align-center slds-gutters_x-small">
                        <div class="slds-col slds-no-flex">
                            <lightning-icon icon-name="utility:success" size="small" alternative-text="Authorized" class="slds-current-color"></lightning-icon>
                        </div>
                        <div class="slds-col">
                            Authorized
                        </div>
                    </div>
                </div>
<!--                <div class="slds-text-align_center slds-m-top_large slds-m-bottom_large">-->
<!--                    <c-integration-user-type onselect={updateAccountType}></c-integration-user-type>-->
<!--                </div>-->

                <!--                <lightning-button label="Unauthorize" variant="neutral" class="slds-button" onclick={showUnauthorizeModal}></lightning-button>-->
                <lightning-button label="Reauthorize" variant="neutral" class="slds-button" disabled={loginDisabled} onclick={authorizeIntegrationUser}></lightning-button>
            </div>
        </template>
        <template lwc:else>
            <div class="slds-text-align_center">
                <div class="stripe-status slds-theme_shade slds-m-top_large slds-m-bottom_small">
                    <div class="slds-grid slds-grid_vertical-align-center slds-grid_align-center slds-gutters_x-small">
                        <div class="slds-col slds-no-flex">
                            <lightning-icon icon-name="utility:clear" size="small" alternative-text="Not Authorized"></lightning-icon>
                        </div>
                        <div class="slds-col">
                            Not Authorized
                        </div>
                    </div>
                </div>
<!--                <div class="slds-text-align_center slds-m-top_large slds-m-bottom_large">-->
<!--                    <c-integration-user-type onselect={updateAccountType}></c-integration-user-type>-->
<!--                </div>-->
                <lightning-button label="Authorize" variant="brand" class="slds-button" icon-name="utility:new_window" icon-position="right" disabled={loginDisabled} onclick={authorizeIntegrationUser}></lightning-button>
            </div>
        </template>
    </div>
    <!-- Unauthorize Confirmation Modal -->
    <c-modal class="stripe-modal_confirm-unauthorize" title="Unauthorize Integration User">
        <div class="slds-is-relative">
            <lightning-spinner if:true={modalLoading} alternative-text="Loading..."></lightning-spinner>
            <p class="slds-text-align_center">
                Are you sure you want to unauthorize the current integration user? An integration user is required to be authorized for the Stripe Billing Connector to work.
            </p>
        </div>
        <lightning-button slot="footer" label="Cancel" variant="neutral" onclick={hideUnauthorizeModal} class="slds-button" disabled={modalLoading}></lightning-button>
        <lightning-button slot="footer" label="Unauthorize" variant="destructive" onclick={unauthorizeUser} class="slds-button" disabled={modalLoading}></lightning-button>
    </c-modal>
    <!-- /Unauthorize Confirmation Modal -->
</template>