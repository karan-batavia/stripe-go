<template>
    <c-step header="Order Filtering" next-label="Finish" next-icon-name="utility:check" back-hidden>
        <p slot="description">Determine which Order records will <strong>not</strong> be synced with Stripe Billing. By default, all Order records will be synced. Records that meet the provided criteria will be <strong>excluded</strong> from the sync with Stripe Billing.</p>

        <div class="slds-p-around_medium">
            <div class="slds-expression">
                <!-- <h2 class="slds-expression__title">Conditions</h2> -->
                <div class="slds-expression__options">
                    <!-- Logic Options -->
                    <c-picklist 
                        label="Ignore Order Records When"
                        options={actionOptions}
                        value="allConditions">
                    </c-picklist>
                </div>
                <ul>
                    <template for:each={conditions} for:item="condition">
                        <li class="slds-expression__row" key={condition.id}>
                            <fieldset>
                                <legend class="slds-expression__legend">
                                    <span class="slds-assistive-text">Condition {condition.id}</span>
                                </legend>
                                <div class="slds-grid slds-gutters_xx-small">
                                    <div class="slds-col slds-size_1-of-3">
                                        <c-picklist 
                                            label="Field"
                                            options={resourceOptions}
                                            value={condition.selectedField}
                                            searchable>
                                        </c-picklist>
                                    </div>
                                    <div class="slds-col slds-size_1-of-4 slds-grow-none">
                                        <c-picklist 
                                            label="Operator"
                                            options={operatorOptions}
                                            value={condition.operator}>
                                        </c-picklist>
                                    </div>
                                    <div class="slds-col">
                                        <lightning-input type="text" label="Value" value={condition.value}></lightning-input>
                                    </div>
                                    <div class="slds-col slds-grow-none">
                                        <div class="slds-form-element">
                                            <span class="slds-form-element__label">&nbsp;</span>
                                            <div class="slds-form-element__control">
                                                <lightning-button-icon icon-name="utility:delete" variant="border-filled"></lightning-button-icon>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </li>
                    </template>
                </ul>
                <div class="slds-expression__buttons">
                    <lightning-button label="Add Condition" variant="neutral" icon-position="left" icon-name="utility:add"></lightning-button>
                </div>
            </div>
        </div>
    </c-step>
</template>